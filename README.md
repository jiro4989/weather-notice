# weather-notice

所定の時間にその日の気温情報を判定して条件にマッチするときだけメール通知をする。

## 目的

毎朝メール通知がきても正直みないので、
寒い日や暑い日だけメール通知が来るようにした。

## システム構成

- OpenWeatherMap (天気情報取得API)
- GoogleAppsScript (cron)
- GoogleSpreadSheet (DB)

## 処理概要

+ 毎時、スクリプトを起動
+ SpreadSheetよりユーザ情報一覧を取得してループ
  + ユーザのメール通知希望時刻を判定
    + 現在時刻が、時刻外の場合は処理スキップ
  + ユーザID,通知希望フラグを判定
    + データが空、フラグfalseのときはスキップ
  + 天気情報をAPIより取得
  + 最低気温がユーザ定義の下限以下か判定
    + マッチするとき、メール通知
  + 最大気温がユーザ定義の上限以上か判定
    + マッチするとき、メール通知
